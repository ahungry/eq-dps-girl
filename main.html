<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'">
  </head>
  <body>
    <div style="color:#000;">
      <div
        style="font-size:0.6em;position: absolute; right: 80px; bottom: 150px;z-index:2;font-family: 'Comic Sans MS', 'Comic Sans', cursive;font-weight:bold;rotate:340deg;">
        <span id="dps" style="font-size:1.8em;">???</span><span id="dps-label">zzz</span>
      </div>
      <img src="bubble.png" style="width:150px;position:absolute;bottom:80px;right:30px;" />
      <img id="dps-girl" src="girlz.png" style="width:120px;position:absolute;bottom:18px;right:0px;" />
    </div>
  </body>
  <script type="text/javascript">
   var source = new EventSource("stream");
	 source.onmessage = function(event){
     let dps = event.data

     if (dps == "-1") {
       // If no dps is happening, she will sleep
       dps = "ZZZZ"
       document.getElementById("dps-girl").src = "girlz.png"
       document.getElementById("dps-label").innerHTML="zzz"
     } else {
       // Randomly blink
       if (Math.random() > 0.03)
         document.getElementById("dps-girl").src = "girl.gif"
       else
         document.getElementById("dps-girl").src = "girlz.png"
       document.getElementById("dps-label").innerHTML="dps!"
     }
		 document.getElementById("dps").innerHTML=dps
	 };
  </script>
</html>
